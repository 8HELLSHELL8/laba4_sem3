{"ast":null,"code":"var _jsxFileName = \"/home/anton/laba4/frontend/src/pages/Detail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport '../css/Detail.css';\n\n// Helper function to get a cookie by name\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getCookie(name) {\n  const cookieValue = document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)');\n  return cookieValue ? cookieValue.pop() : '';\n}\nconst Detail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [location, setLocation] = useState('');\n  const [deviceData, setDeviceData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    const fetchDeviceData = async () => {\n      setIsLoading(true);\n      setError(null);\n      try {\n        const response = await axios.get(`http://localhost:5000/api/items/${id}`, {\n          withCredentials: true\n        });\n        setDeviceData(response.data);\n        setName(response.data.name);\n        setLocation(response.data.location);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error(\"Error fetching device info: \", err);\n        let errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load device data. Please try again later.\";\n        if (err.response && err.response.status === 404) {\n          errorMessage = `Device with ID ${id} not found.`;\n        }\n        setError(errorMessage);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (id) {\n      fetchDeviceData();\n    } else {\n      setError(\"No device ID provided.\");\n      setIsLoading(false);\n    }\n  }, [id]);\n  const handleDelete = async () => {\n    if (window.confirm(`Are you sure you want to delete the device \"${(deviceData === null || deviceData === void 0 ? void 0 : deviceData.name) || name}\"?`)) {\n      try {\n        const csrfToken = getCookie('_csrfToken');\n        if (!csrfToken) {\n          setError(\"CSRF token not found. Please refresh the page or try logging in again.\");\n          return;\n        }\n        await axios.delete(`http://localhost:5000/api/items/${id}`, {\n          withCredentials: true,\n          headers: {\n            'x-csrf-token': csrfToken // Send CSRF token in header\n          }\n        });\n        navigate(\"/home\", {\n          replace: true\n        });\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        console.error(\"Error deleting this device: \", err);\n        let errorMessage = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to delete device. Please try again.\";\n        if (err.response && err.response.status === 403) {\n          errorMessage = \"CSRF validation failed. Please refresh the page or try logging in again.\";\n        }\n        setError(errorMessage);\n      }\n    }\n  };\n  const handleSave = async () => {\n    try {\n      const csrfToken = getCookie('_csrfToken');\n      if (!csrfToken) {\n        setError(\"CSRF token not found. Please refresh the page or try logging in again.\");\n        return;\n      }\n\n      // Only send fields that are meant to be updated and handled by the backend\n      const updatedPayload = {\n        name,\n        location\n      };\n      const response = await axios.put(`http://localhost:5000/api/items/${id}`, updatedPayload, {\n        withCredentials: true,\n        headers: {\n          'x-csrf-token': csrfToken // Send CSRF token in header\n        }\n      });\n\n      // Update local state with the new name and location, keeping other details\n      // Ideally, the backend response.data.device would contain the full updated object\n      // If response.data.device exists and is complete, prefer using it.\n      setDeviceData(prevData => {\n        var _response$data$device, _response$data$device2;\n        return {\n          ...prevData,\n          // Keep existing type, status, id\n          name: ((_response$data$device = response.data.device) === null || _response$data$device === void 0 ? void 0 : _response$data$device.name) || name,\n          // Use response data if available\n          location: (_response$data$device2 = response.data.device) !== null && _response$data$device2 !== void 0 && _response$data$device2.location_id ? location : prevData ? prevData.location : location // This part is tricky if backend returns location_id\n          // Assuming for now we want to keep the string name 'location' for display\n          // and the backend returns the name as part of 'device' object or we re-fetch.\n          // For simplicity of current frontend, if backend returns name, use it.\n          // Server's PUT /api/items/:id seems to return device with location_id, not location name directly.\n          // Let's assume for now client-side name & location are sources of truth for display after successful PUT\n          // A better approach would be to re-fetch the item or have the PUT response include all necessary display fields (like joined location name)\n        };\n      });\n      // If your PUT response contains the full device object with joined names (type, location, status),\n      // you could simply do: setDeviceData(response.data.device); setName(response.data.device.name); setLocation(response.data.device.location);\n      // Based on your backend: res.json({ message: 'Device updated successfully', device: updateResult.rows[0] });\n      // updateResult.rows[0] will have location_id, not location name.\n      // So, we update name and location from local state, assuming they were successfully saved.\n      // The displayed `deviceData.location` might become stale if it's not re-fetched or updated with the string name.\n      // For now, let's just update what we sent.\n      setName(name); // Update name state (already done by input)\n      setLocation(location); // Update location state (already done by input)\n      setDeviceData(prev => ({\n        ...prev,\n        name: name,\n        location: location\n      }));\n      setIsEditing(false);\n      setError(null);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Error updating device info: \", err);\n      let errorMessage = ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Failed to save changes. Please try again.\";\n      if (err.response && err.response.status === 403) {\n        errorMessage = \"CSRF validation failed. Please refresh the page or try logging in again.\";\n      }\n      setError(errorMessage);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading device details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 50\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-container error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"detail-button\",\n        onClick: () => {\n          setError(null); // Clear error before navigating\n          if (error.includes(\"ID provided\") || error.includes(\"not found\")) {\n            navigate(\"/home\");\n          } else {\n            // If it was a CSRF error or general fetch error, re-fetch data\n            if (id) fetchDeviceData();else navigate(\"/home\");\n          }\n        },\n        children: error.includes(\"ID provided\") || error.includes(\"not found\") ? \"Back to Home\" : \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  }\n  // Minor update to the error block's button logic for \"Try Again\"\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"detail-title\",\n      children: \"Device Detailed Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), !isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"detail-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"detail-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Device Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"detail-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Type:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"detail-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"detail-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"detail-button\",\n          onClick: () => navigate(\"/home\"),\n          children: \"Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"detail-button edit\",\n          onClick: () => {\n            setError(null); // Clear any previous errors before entering edit mode\n            setName((deviceData === null || deviceData === void 0 ? void 0 : deviceData.name) || ''); // Ensure form fields are pre-filled correctly\n            setLocation((deviceData === null || deviceData === void 0 ? void 0 : deviceData.location) || '');\n            setIsEditing(true);\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"detail-button danger\",\n          onClick: handleDelete,\n          children: \"Delete Device\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"edit-title\",\n        children: \"Edit Device Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message edit-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 31\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleSave();\n        },\n        className: \"edit-form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-field-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"edit-label\",\n            children: [\"Device Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              required: true,\n              className: \"edit-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"edit-label\",\n            children: [\"Location:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: location,\n              onChange: e => setLocation(e.target.value),\n              required: true,\n              className: \"edit-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-field-group read-only\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"detail-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"detail-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: deviceData === null || deviceData === void 0 ? void 0 : deviceData.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"edit-button save\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setName((deviceData === null || deviceData === void 0 ? void 0 : deviceData.name) || '');\n              setLocation((deviceData === null || deviceData === void 0 ? void 0 : deviceData.location) || '');\n              setIsEditing(false);\n              setError(null); // Clear errors on cancel\n            },\n            className: \"edit-button cancel\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 9\n  }, this);\n};\n_s(Detail, \"0FuEafdlwht+lvZEUEZjTcJekW4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Detail;\nexport default Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","getCookie","name","cookieValue","document","cookie","match","pop","Detail","_s","id","navigate","setName","location","setLocation","deviceData","setDeviceData","isLoading","setIsLoading","error","setError","isEditing","setIsEditing","fetchDeviceData","response","get","withCredentials","data","err","_err$response","_err$response$data","console","errorMessage","message","status","handleDelete","window","confirm","csrfToken","delete","headers","replace","_err$response2","_err$response2$data","handleSave","updatedPayload","put","prevData","_response$data$device","_response$data$device2","device","location_id","prev","_err$response3","_err$response3$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","includes","type","onSubmit","e","preventDefault","value","onChange","target","required","_c","$RefreshReg$"],"sources":["/home/anton/laba4/frontend/src/pages/Detail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport '../css/Detail.css';\n\n// Helper function to get a cookie by name\nfunction getCookie(name) {\n    const cookieValue = document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)');\n    return cookieValue ? cookieValue.pop() : '';\n}\n\nconst Detail = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n\n    const [name, setName] = useState('');\n    const [location, setLocation] = useState('');\n    const [deviceData, setDeviceData] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [isEditing, setIsEditing] = useState(false);\n\n    useEffect(() => {\n        const fetchDeviceData = async () => {\n            setIsLoading(true);\n            setError(null);\n            try {\n                const response = await axios.get(`http://localhost:5000/api/items/${id}`, {\n                    withCredentials: true,\n                });\n                setDeviceData(response.data);\n                setName(response.data.name);\n                setLocation(response.data.location);\n            } catch (err) {\n                console.error(\"Error fetching device info: \", err);\n                let errorMessage = err.response?.data?.message || \"Failed to load device data. Please try again later.\";\n                if (err.response && err.response.status === 404) {\n                    errorMessage = `Device with ID ${id} not found.`;\n                }\n                setError(errorMessage);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        if (id) {\n            fetchDeviceData();\n        } else {\n            setError(\"No device ID provided.\");\n            setIsLoading(false);\n        }\n    }, [id]);\n\n    const handleDelete = async () => {\n        if (window.confirm(`Are you sure you want to delete the device \"${deviceData?.name || name}\"?`)) {\n            try {\n                const csrfToken = getCookie('_csrfToken');\n                if (!csrfToken) {\n                    setError(\"CSRF token not found. Please refresh the page or try logging in again.\");\n                    return;\n                }\n\n                await axios.delete(`http://localhost:5000/api/items/${id}`, {\n                    withCredentials: true,\n                    headers: {\n                        'x-csrf-token': csrfToken, // Send CSRF token in header\n                    },\n                });\n                navigate(\"/home\", { replace: true });\n            } catch (err) {\n                console.error(\"Error deleting this device: \", err);\n                let errorMessage = err.response?.data?.message || \"Failed to delete device. Please try again.\";\n                if (err.response && err.response.status === 403) {\n                    errorMessage = \"CSRF validation failed. Please refresh the page or try logging in again.\";\n                }\n                setError(errorMessage);\n            }\n        }\n    };\n\n    const handleSave = async () => {\n        try {\n            const csrfToken = getCookie('_csrfToken');\n            if (!csrfToken) {\n                setError(\"CSRF token not found. Please refresh the page or try logging in again.\");\n                return;\n            }\n\n            // Only send fields that are meant to be updated and handled by the backend\n            const updatedPayload = { name, location };\n\n            const response = await axios.put(`http://localhost:5000/api/items/${id}`, updatedPayload, {\n                withCredentials: true,\n                headers: {\n                    'x-csrf-token': csrfToken, // Send CSRF token in header\n                },\n            });\n\n            // Update local state with the new name and location, keeping other details\n            // Ideally, the backend response.data.device would contain the full updated object\n            // If response.data.device exists and is complete, prefer using it.\n            setDeviceData(prevData => ({\n                ...prevData, // Keep existing type, status, id\n                name: response.data.device?.name || name, // Use response data if available\n                location: response.data.device?.location_id ? location : ( prevData ? prevData.location : location), // This part is tricky if backend returns location_id\n                                                                    // Assuming for now we want to keep the string name 'location' for display\n                                                                    // and the backend returns the name as part of 'device' object or we re-fetch.\n                                                                    // For simplicity of current frontend, if backend returns name, use it.\n                                                                    // Server's PUT /api/items/:id seems to return device with location_id, not location name directly.\n                                                                    // Let's assume for now client-side name & location are sources of truth for display after successful PUT\n                                                                    // A better approach would be to re-fetch the item or have the PUT response include all necessary display fields (like joined location name)\n            }));\n            // If your PUT response contains the full device object with joined names (type, location, status),\n            // you could simply do: setDeviceData(response.data.device); setName(response.data.device.name); setLocation(response.data.device.location);\n            // Based on your backend: res.json({ message: 'Device updated successfully', device: updateResult.rows[0] });\n            // updateResult.rows[0] will have location_id, not location name.\n            // So, we update name and location from local state, assuming they were successfully saved.\n            // The displayed `deviceData.location` might become stale if it's not re-fetched or updated with the string name.\n            // For now, let's just update what we sent.\n            setName(name); // Update name state (already done by input)\n            setLocation(location); // Update location state (already done by input)\n            setDeviceData(prev => ({...prev, name: name, location: location}));\n\n\n            setIsEditing(false);\n            setError(null);\n        } catch (err) {\n            console.error(\"Error updating device info: \", err);\n            let errorMessage = err.response?.data?.message || \"Failed to save changes. Please try again.\";\n            if (err.response && err.response.status === 403) {\n                errorMessage = \"CSRF validation failed. Please refresh the page or try logging in again.\";\n            }\n            setError(errorMessage);\n        }\n    };\n\n    if (isLoading) {\n        return <div className=\"detail-container\"><p>Loading device details...</p></div>;\n    }\n\n    if (error) {\n        return (\n            <div className=\"detail-container error-message\">\n                <p>{error}</p>\n                <button className=\"detail-button\" onClick={() => {\n                    setError(null); // Clear error before navigating\n                    if (error.includes(\"ID provided\") || error.includes(\"not found\")) {\n                         navigate(\"/home\");\n                    } else {\n                        // If it was a CSRF error or general fetch error, re-fetch data\n                        if (id) fetchDeviceData(); else navigate(\"/home\");\n                    }\n                }}>\n                    {error.includes(\"ID provided\") || error.includes(\"not found\") ? \"Back to Home\" : \"Try Again\"}\n                </button>\n            </div>\n        );\n    }\n    // Minor update to the error block's button logic for \"Try Again\"\n\n    return (\n        <div className=\"detail-container\">\n            <h1 className=\"detail-title\">Device Detailed Info</h1>\n            {!isEditing ? (\n                <>\n                    <div className=\"detail-info\">\n                        <p className=\"detail-field\">\n                            <span className=\"detail-label\">ID:</span>\n                            <strong>{deviceData?.id}</strong>\n                        </p>\n                        <p className=\"detail-field\">\n                            <span className=\"detail-label\">Device Name:</span>\n                            <strong>{deviceData?.name}</strong>\n                        </p>\n                        <p className=\"detail-field\">\n                            <span className=\"detail-label\">Type:</span>\n                            <strong>{deviceData?.type}</strong>\n                        </p>\n                        <p className=\"detail-field\">\n                            <span className=\"detail-label\">Location:</span>\n                            <strong>{deviceData?.location}</strong>\n                        </p>\n                        <p className=\"detail-field\">\n                            <span className=\"detail-label\">Status:</span>\n                            <strong>{deviceData?.status}</strong>\n                        </p>\n                    </div>\n\n                    <div className=\"detail-actions\">\n                        <button className=\"detail-button\" onClick={() => navigate(\"/home\")}>\n                            Back to Home\n                        </button>\n                        <button className=\"detail-button edit\" onClick={() => {\n                            setError(null); // Clear any previous errors before entering edit mode\n                            setName(deviceData?.name || ''); // Ensure form fields are pre-filled correctly\n                            setLocation(deviceData?.location || '');\n                            setIsEditing(true);\n                        }}>\n                            Edit\n                        </button>\n                        <button className=\"detail-button danger\" onClick={handleDelete}>\n                            Delete Device\n                        </button>\n                    </div>\n                </>\n            ) : (\n                <div className=\"edit-form\">\n                    <h3 className=\"edit-title\">Edit Device Info</h3>\n                    {error && <p className=\"error-message edit-error\">{error}</p>} {/* Display errors within edit form too */}\n                    <form\n                        onSubmit={(e) => {\n                            e.preventDefault();\n                            handleSave();\n                        }}\n                        className=\"edit-form-container\"\n                    >\n                        <div className=\"edit-field-group\">\n                            <label className=\"edit-label\">\n                                Device Name:\n                                <input\n                                    type=\"text\"\n                                    value={name}\n                                    onChange={(e) => setName(e.target.value)}\n                                    required\n                                    className=\"edit-input\"\n                                />\n                            </label>\n                            <label className=\"edit-label\">\n                                Location:\n                                <input\n                                    type=\"text\"\n                                    value={location}\n                                    onChange={(e) => setLocation(e.target.value)}\n                                    required\n                                    className=\"edit-input\"\n                                />\n                            </label>\n                        </div>\n\n                        <div className=\"edit-field-group read-only\">\n                            <p className=\"detail-field\">\n                                <span className=\"detail-label\">Type:</span>\n                                <strong>{deviceData?.type}</strong>\n                            </p>\n                            <p className=\"detail-field\">\n                                <span className=\"detail-label\">Status:</span>\n                                <strong>{deviceData?.status}</strong>\n                            </p>\n                        </div>\n\n                        <div className=\"edit-actions\">\n                            <button type=\"submit\" className=\"edit-button save\">\n                                Save Changes\n                            </button>\n                            <button\n                                type=\"button\"\n                                onClick={() => {\n                                    setName(deviceData?.name || '');\n                                    setLocation(deviceData?.location || '');\n                                    setIsEditing(false);\n                                    setError(null); // Clear errors on cancel\n                                }}\n                                className=\"edit-button cancel\"\n                            >\n                                Cancel\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Detail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}