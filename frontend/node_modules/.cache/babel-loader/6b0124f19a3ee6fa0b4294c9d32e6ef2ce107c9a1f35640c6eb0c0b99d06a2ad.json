{"ast":null,"code":"var _jsxFileName = \"/home/anton/laba4/frontend/src/pages/Detail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport '../css/Detail.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Detail = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Dinamicheski poluchaem id is url\n  const navigate = useNavigate();\n\n  // Init dlya state\n  const [name, setName] = useState('');\n  const [location, setLocation] = useState('');\n  const [isEditing, setIsEditing] = useState(false); // flag redaktirovaniya\n\n  useEffect(() => {\n    const fetchDeviceData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/items/${id}`);\n        const {\n          name,\n          location\n        } = response.data;\n        setName(name);\n        setLocation(location);\n      } catch (error) {\n        console.error(\"Error uploading device info: \", error);\n      }\n    };\n    fetchDeviceData();\n  }, [id]);\n  const handleDelete = async () => {\n    if (window.confirm(\"Are u sure u want to delete this device?\")) {\n      try {\n        await axios.delete(`http://localhost:5000/items/${id}`);\n        navigate(\"/\");\n      } catch (error) {\n        console.error(\"Error deleting this device: \", error);\n      }\n    }\n  };\n  const handleSave = async () => {\n    try {\n      await axios.put(`http://localhost:5000/items/${id}`, {\n        name,\n        location\n      });\n      setIsEditing(false);\n    } catch (error) {\n      console.error(\"Error updating device info: \", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"detail-title\",\n      children: \"Device Detailed Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"detail-label\",\n        children: [\"Device Name: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"detail-label\",\n        children: [\"Location: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"detail-button\",\n        onClick: () => navigate(\"/\"),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"detail-button danger\",\n        onClick: handleDelete,\n        children: \"Delete Device\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"detail-button edit\",\n        onClick: () => setIsEditing(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"edit-title\",\n        children: \"Edit Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleSave();\n        },\n        className: \"edit-form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"edit-label\",\n          children: [\"New Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true,\n            className: \"edit-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"edit-label\",\n          children: [\"New Location:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: location,\n            onChange: e => setLocation(e.target.value),\n            required: true,\n            className: \"edit-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"edit-button save\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setIsEditing(false),\n          className: \"edit-button cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }, this);\n};\n_s(Detail, \"CDgYTNoAsoZ39wciYsip1elU/Ec=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Detail;\nexport default Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","Detail","_s","id","navigate","name","setName","location","setLocation","isEditing","setIsEditing","fetchDeviceData","response","get","data","error","console","handleDelete","window","confirm","delete","handleSave","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","e","preventDefault","type","value","onChange","target","required","_c","$RefreshReg$"],"sources":["/home/anton/laba4/frontend/src/pages/Detail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport '../css/Detail.css'\n\n\nconst Detail = () => {\n\n    const { id } = useParams(); // Dinamicheski poluchaem id is url\n    const navigate = useNavigate();\n\n    // Init dlya state\n    const [name,setName] = useState('');\n    const [location,setLocation] = useState('');\n    const [isEditing, setIsEditing] = useState(false); // flag redaktirovaniya\n\n    useEffect(() => {\n        const fetchDeviceData = async () => {\n            try {\n                const response = await axios.get(`http://localhost:5000/items/${id}`);\n                const { name, location } = response.data;\n                setName(name);\n                setLocation(location);\n            } catch (error) {\n                console.error(\"Error uploading device info: \", error);\n            }\n        };\n\n        fetchDeviceData();\n    }, [id]);\n\n    const handleDelete = async () => {\n        if (window.confirm(\"Are u sure u want to delete this device?\")) {\n            try {\n                await axios.delete(`http://localhost:5000/items/${id}`);\n                navigate(\"/\");\n\n            } catch (error) {\n                console.error(\"Error deleting this device: \", error);\n            }\n        }\n    };\n\n    const handleSave = async () => {\n        try {\n            await axios.put(`http://localhost:5000/items/${id}`, { name, location });\n            setIsEditing(false);\n        } catch (error) {\n            console.error(\"Error updating device info: \", error);\n        }\n    }\n\n    return (\n      <div className=\"detail-container\">\n          <h1 className=\"detail-title\">Device Detailed Info</h1>\n          <div className=\"detail-info\">\n              <label className=\"detail-label\">\n                  Device Name: <strong>{name}</strong>\n              </label>\n              <br />\n              <label className=\"detail-label\">\n                  Location: <strong>{location}</strong>\n              </label>\n          </div>\n\n          <div className=\"detail-actions\">\n              <button className=\"detail-button\" onClick={() => navigate(\"/\")}>\n                  Back\n              </button>\n              <button className=\"detail-button danger\" onClick={handleDelete}>\n                  Delete Device\n              </button>\n              <button className=\"detail-button edit\" onClick={() => setIsEditing(true)}>\n                  Edit\n              </button>\n          </div>\n\n          {isEditing && (\n              <div className=\"edit-form\">\n                  <h3 className=\"edit-title\">Edit Info</h3>\n                  <form\n                      onSubmit={(e) => {\n                          e.preventDefault();\n                          handleSave();\n                      }}\n                      className=\"edit-form-container\"\n                  >\n                      <label className=\"edit-label\">\n                          New Name:\n                          <input\n                              type=\"text\"\n                              value={name}\n                              onChange={(e) => setName(e.target.value)}\n                              required\n                              className=\"edit-input\"\n                          />\n                      </label>\n                      <br />\n                      <label className=\"edit-label\">\n                          New Location:\n                          <input\n                              type=\"text\"\n                              value={location}\n                              onChange={(e) => setLocation(e.target.value)}\n                              required\n                              className=\"edit-input\"\n                          />\n                      </label>\n                      <br />\n                      <button type=\"submit\" className=\"edit-button save\">\n                          Save Changes\n                      </button>\n                      <button\n                          type=\"button\"\n                          onClick={() => setIsEditing(false)}\n                          className=\"edit-button cancel\"\n                      >\n                          Cancel\n                      </button>\n                  </form>\n              </div>\n          )}\n      </div>\n  );\n};\n\nexport default Detail;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}